<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZClk: ZClk Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ZClk
   &#160;<span id="projectnumber">0.1.0-alpha.3</span>
   </div>
   <div id="projectbrief">Library to build cli programs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ZClk Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">Getting Started</a><ul><li class="level2"><a href="#autotoc_md1">Build the package using CMake</a></li>
<li class="level2"><a href="#autotoc_md2">Use the library in your code.</a></li>
<li class="level2"><a href="#autotoc_md3">Simple Example</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md4">Public API Header</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="mainpage"></a></p>
<p><b>NOTE: This library is still under development. The public API is unstable till the library reaches beta status. There will be breaking changes in public API if needed.</b></p>
<p><b>ZClk</b> is a C library to build command line interfaces aka CLI programs.</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Getting Started</h1>
<h2><a class="anchor" id="autotoc_md1"></a>
Build the package using CMake</h2>
<p>The Makefile in the source folder contains targets for useful CMake commands. You can use the genbuild and build targets to create the CMake build folder, and then run the build for your platform.</p>
<div class="fragment"><div class="line">$ make genbuild build</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md2"></a>
Use the library in your code.</h2>
<p>A library named zclk (with appropriate prefix/suffix for your platform) will be generated in the ./build folder.</p>
<p>Use this library and add the src folder to your include folders during compilation.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Simple Example</h2>
<p>The <code>zclk_command</code> struct and its associated functions provide the majority of the public api of the library. There are functions to create commands, add options and arguments and then execute the commands given the program arguments. These are all demostrated in sample programs in the <code>./samples</code> folder in the source code.</p>
<p>Here is a simple implementation with one command which has one option and one argument - to give a feel of the API...</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="zclk_8h.html">zclk.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="zclk_8h.html#a85c06910a7ad5fe5406076943afbd60b">zclk_res</a> basic_handler(<a class="code" href="structzclk__command__t.html">zclk_command</a>* cmd, <span class="keywordtype">void</span>* handler_args)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;Sample#1: Basic Usage of CLIUTILS with &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;One Argument and One Option.\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n** Options\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    zclk_command_option_foreach(cmd, opt)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;\toption: %s=%d\n&quot;</span>, opt-&gt;name, zclk_option_get_val_flag(opt));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n** Arguments\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    zclk_command_argument_foreach(cmd, argument)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;\targument: %s=%s\n&quot;</span>, argument-&gt;name, zclk_argument_get_val_string(argument));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structzclk__command__t.html">zclk_command</a> *cmd = <a class="code" href="zclk_8h.html#a39096589126b39597a30f338f8450e47">new_zclk_command</a>(argv[0], <span class="stringliteral">&quot;cmd&quot;</span>,</div>
<div class="line">                            <span class="stringliteral">&quot;Basic Description&quot;</span>, &amp;basic_handler);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="zclk_8h.html#a013f388ff3a0b17ec19eb21c61b8d6d1">zclk_command_flag_option</a>(</div>
<div class="line">        cmd,</div>
<div class="line">        <span class="stringliteral">&quot;option-one&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;o&quot;</span>, </div>
<div class="line">        <span class="stringliteral">&quot;Option One&quot;</span></div>
<div class="line">    );</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="zclk_8h.html#a34ff55df10f355ef79f51735c60b1ba0">zclk_command_string_argument</a>(</div>
<div class="line">        cmd,</div>
<div class="line">        <span class="stringliteral">&quot;arg-one&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;blah&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;Argument One&quot;</span>,</div>
<div class="line">        1</div>
<div class="line">    );</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="zclk_8h.html#a7d7aafdf8edf730e5d5a4686291a1fe4">zclk_command_exec</a>(cmd, NULL, argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="astructzclk__command__t_html"><div class="ttname"><a href="structzclk__command__t.html">zclk_command_t</a></div><div class="ttdoc">A CLI Command Ojbect.</div><div class="ttdef"><b>Definition:</b> zclk.h:389</div></div>
<div class="ttc" id="azclk_8h_html"><div class="ttname"><a href="zclk_8h.html">zclk.h</a></div><div class="ttdoc">Zclk main header file. Defines the Public API of zclk.</div></div>
<div class="ttc" id="azclk_8h_html_a013f388ff3a0b17ec19eb21c61b8d6d1"><div class="ttname"><a href="zclk_8h.html#a013f388ff3a0b17ec19eb21c61b8d6d1">zclk_command_flag_option</a></div><div class="ttdeci">MODULE_API void zclk_command_flag_option(zclk_command *cmd, const char *name, const char *short_name, const char *desc)</div><div class="ttdoc">Create a new flag option and add it to the given command.</div><div class="ttdef"><b>Definition:</b> zclk.c:919</div></div>
<div class="ttc" id="azclk_8h_html_a34ff55df10f355ef79f51735c60b1ba0"><div class="ttname"><a href="zclk_8h.html#a34ff55df10f355ef79f51735c60b1ba0">zclk_command_string_argument</a></div><div class="ttdeci">MODULE_API void zclk_command_string_argument(zclk_command *cmd, const char *name, const char *default_val, const char *desc, int nargs)</div><div class="ttdoc">Create a new bool argument and add it to the given command.</div><div class="ttdef"><b>Definition:</b> zclk.c:967</div></div>
<div class="ttc" id="azclk_8h_html_a39096589126b39597a30f338f8450e47"><div class="ttname"><a href="zclk_8h.html#a39096589126b39597a30f338f8450e47">new_zclk_command</a></div><div class="ttdeci">MODULE_API zclk_command * new_zclk_command(const char *name, const char *short_name, const char *description, zclk_command_fn handler)</div><div class="ttdoc">Create a command object with automatic error handling.</div><div class="ttdef"><b>Definition:</b> zclk.c:819</div></div>
<div class="ttc" id="azclk_8h_html_a7d7aafdf8edf730e5d5a4686291a1fe4"><div class="ttname"><a href="zclk_8h.html#a7d7aafdf8edf730e5d5a4686291a1fe4">zclk_command_exec</a></div><div class="ttdeci">MODULE_API zclk_res zclk_command_exec(zclk_command *cmd, void *exec_args, int argc, char *argv[])</div><div class="ttdoc">Execute the command with the given args.</div><div class="ttdef"><b>Definition:</b> zclk.c:1027</div></div>
<div class="ttc" id="azclk_8h_html_a85c06910a7ad5fe5406076943afbd60b"><div class="ttname"><a href="zclk_8h.html#a85c06910a7ad5fe5406076943afbd60b">zclk_res</a></div><div class="ttdeci">zclk_res</div><div class="ttdoc">This enum defines the possible error codes generated by functions in the API.</div><div class="ttdef"><b>Definition:</b> zclk.h:39</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
Public API Header</h1>
<p>The public API of the library is provided by <a class="el" href="zclk_8h.html">zclk.h</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
